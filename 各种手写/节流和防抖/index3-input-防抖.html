<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>加入防抖</title>
    <style type="text/css"></style>
    <script type="text/javascript">
        window.onload = function () {
            //模拟ajax请求
            function ajax(content) {
                console.log('ajax request ' + content)
            }
            // 防抖
            function debounce (fn, delay) {
              let timer = null
              console.log('zhixing');
              return function (args) {
                let _this = this
                let _args = args 
                clearTimeout(timer)
                timer = setTimeout(function() {
                  fn.call(_this, _args)
                }, delay)
              }
            }
          
            // 获取事件DOM
            let inputDebounce = document.getElementById('debounce')
            //  执行一次debounce让防抖函数吐出闭包函数
            let debounceAjax = debounce(ajax, 300) 
           
            inputDebounce.addEventListener('keyup', function(e) {
              debounceAjax(e.target.value)
            })
        }
        
    </script>
</head>
<body>
    <div>
        2.加入防抖的输入：
        <input type="text" name="normal" id="debounce">
    </div>
</body>
</html>